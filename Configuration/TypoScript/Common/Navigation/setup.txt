lib.navsearch = USER
lib.navsearch {
  userFunc = TYPO3\CMS\Extbase\Core\Bootstrap->run
  vendorName = EWW
  pluginName = Frontendsearch
  extensionName = Dpf
  controller = SearchFE
  switchableControllerActions {
      SearchFE {
          1 = showSearchForm
      }
  }

  settings =< plugin.tx_dpf.settings
  persistence =< plugin.tx:dpf.persistence
}

# SprachmenÃ¼

lib.langnav = HMENU
lib.langnav {
  special = language
  special.value = 0,1
    special.normalWhenNoLanguage = 0
  1 = TMENU
  1 {
    noBlur = 1
    #expAll = 0
    accessKey = 1
    wrap = <ul class="qsa_dropdown__items">|</ul>

    NO = 1
    NO {
        doNotLinkIt = 1
      linkWrap = <li class="qsa_dropdown__item">|</li>
      # wrap the page title! otherways you see the current page title instead of the language.
      stdWrap{
          override = Deutsch || Englisch
          override.wrap = <svg class="qsa_icon icon--check icon--base" role="img" width="20" height="20" aria-hidden="true"><title class="sr-only">Icon check</title><desc class="sr-only">{$text.languageIconDescription}</desc><use xlink:href="/typo3conf/ext/slub_web_qucosa/Resources/Public/icons/icon.min.svg#icon-check"></use></svg>
          typolink {
              parameter.data = page:uid
              additionalParams = &L=0 || &L=1
              ATagParams = hreflang="de-DE" data-iso-label="DE" class="qsa_dropdown__link" || hreflang="en-GB" data-iso-label="EN" class="qsa_dropdown__link"
              addQueryString = 1
              addQueryString.exclude = L,id,no_cache
              addQueryString.method = GET
              no_cache = 0
          }
      }
    }
    # active language
    ACT < .NO
    ACT {
      linkWrap = <li class="qsa_dropdown__item">|</li>
        stdWrap{
            typolink{
                ATagParams = hreflang="de-DE" data-iso-label="DE" class="qsa_dropdown__link qsa_dropdown__link--selected" || hreflang="en-GB" data-iso-label="EN" class="qsa_dropdown__link qsa_dropdown__link--selected"
            }
        }
    }

    # NO + Translation doesn't exist
    USERDEF1 < .NO

    # ACT + Translation doesn't exist
    USERDEF2 < .ACT
  }
}
