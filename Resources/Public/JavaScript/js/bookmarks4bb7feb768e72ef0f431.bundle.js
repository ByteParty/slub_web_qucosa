(self.webpackChunkqsa=self.webpackChunkqsa||[]).push([[615],{57:function(e,t,a){"use strict";function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}a.r(t);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t,a;return t=e,(a=[{key:"init",value:function(){this.checkAllBookmarks(),this.removeMultiple(),this.toggleBookmarkSidebar(),this.printBookmarks(),this.addBookmarks()}},{key:"checkAllBookmarks",value:function(){var e=document.querySelector("#markAllBookmarks"),t=document.querySelectorAll(".qsa_bookmarks__sidebar-list-item__mark input"),a=document.querySelector(".qsa_bookmarks__sidebar-operations--remove button");e.addEventListener("click",(function(e){var r=e.target;t.forEach((function(e){e.checked=r.checked,r.checked?a.classList.remove("d-none"):a.classList.add("d-none")}))}))}},{key:"removeMultiple",value:function(){var e=this,t=document.querySelectorAll(".qsa_bookmarks__sidebar-list-item__mark input"),a=document.querySelector(".qsa_bookmarks__sidebar-operations--remove button");t.forEach((function(e){e.addEventListener("click",(function(e){document.querySelectorAll('.qsa_bookmarks__sidebar-list-item__mark input[type="checkbox"]:checked').length>=2?a.classList.remove("d-none"):a.classList.add("d-none")}))})),a.addEventListener("click",(function(t){document.querySelectorAll('.qsa_bookmarks__sidebar-list-item__mark input[type="checkbox"]:checked').forEach((function(t){var a=t.parentElement.parentElement.dataset.id;e.removeBookmark(a)}))}))}},{key:"toggleBookmarkSidebar",value:function(){var e=document.querySelector("#bookmarkSlider"),t=document.querySelector(".qsa_bookmarks__sidebar"),a=document.querySelector("#bookmarksClose");e.addEventListener("click",(function(){t.classList.add("qsa_bookmarks__sidebar--expanded")})),a.addEventListener("click",(function(){t.classList.remove("qsa_bookmarks__sidebar--expanded")})),window.addEventListener("click",(function(a){a.target!==e&&t.classList.remove("qsa_bookmarks__sidebar--expanded")})),t.addEventListener("click",(function(e){e.stopPropagation()}))}},{key:"printBookmarks",value:function(){var e=document.querySelector(".qsa_bookmarks__sidebar-list"),t=document.querySelector(".qsa_bookmarks__sidebar-operations--print button"),a="Favoritenliste",r=window.location.origin+"/css/qsa.min.css";t.addEventListener("click",(function(){var t=window.open("","PRINT","height=400,width=600");return t.document.write("<html><head><title>"+a+"</title>"),t.document.write("<link href=".concat(r,' rel="stylesheet"></head><body class="no-flex">')),t.document.write("<h1>"+a+"</h1>"),t.document.write(e.innerHTML),t.document.write("</body></html>"),t.document.close(),t.focus(),t.onload=function(){setTimeout((function(){t.print(),t.close()}),700)},!0}))}},{key:"addBookmarks",value:function(){var e=this,t=document.querySelectorAll('.qsa_search__wrapper button[data-id="bookmark"]'),a=document.querySelector(".qsa_bookmarks__counter");localStorage.getItem("myBookmarks")||localStorage.setItem("myBookmarks",JSON.stringify([])),a.innerHTML=JSON.parse(localStorage.getItem("myBookmarks")).length;var r=JSON.parse(localStorage.getItem("myBookmarks"));0===r.length&&document.querySelector(".qsa_bookmarks__sidebar-list-wrapper").classList.add("qsa_bookmarks__sidebar-list-wrapper--empty"),r.forEach((function(t){e.createBookmark(t)})),t.forEach((function(t){var r=t.getAttribute("id");JSON.parse(localStorage.getItem("myBookmarks")).filter((function(e){return e.id===r})).length>0&&(t.classList.add("active-icon"),t.closest(".qsa_search__wrapper").classList.add("qsa_search__wrapper--active")),t.addEventListener("click",(function(r){var o=r.target.getAttribute("id"),s=t.parentElement.previousElementSibling,i=s.querySelector(".qsa_search-result__item-title-link").innerHTML,n=s.querySelector(".qsa_search-result__item-title-link").getAttribute("href"),c=s.querySelectorAll(".qsa_search-result__item-footer__item"),l=JSON.parse(localStorage.getItem("myBookmarks"));if(l.filter((function(e){return e.id===o})).length>0)l.findIndex((function(e){return e.id===o}))>-1&&e.removeBookmark(o);else{var d={};d.title=i,d.meta=[],d.id=o,d.href=n,c.forEach((function(e){d.meta.push(e.innerHTML)})),l.push(d),e.createBookmark(d),localStorage.setItem("myBookmarks",JSON.stringify(l)),a.innerHTML=JSON.parse(localStorage.getItem("myBookmarks")).length}}))}))}},{key:"createBookmark",value:function(e){var t=document.querySelector(".qsa_bookmarks__sidebar-list"),a=document.createElement("li");a.classList.add("qsa_bookmarks__sidebar-list-item"),a.dataset.id=e.id;var r=document.createElement("div");r.classList.add("qsa_bookmarks__sidebar-list-item__mark"),r.insertAdjacentHTML("beforeend",'<input id="'.concat(e.id,'-input" data-id="').concat(e.id,'" type="checkbox"/><label class="sr-only" for="').concat(e.id,'-input">Eintrag markieren</label>')),a.append(r);var o=document.createElement("div");o.classList.add("qsa_bookmarks__sidebar-list-item__data"),o.insertAdjacentHTML("beforeend",'<h2 class="h6"><a class="qsa_bookmarks__sidebar-list-item__data-link" href="'.concat(e.href,'">').concat(e.title,"</a></h2>")),a.append(o);var s=document.createElement("div");s.classList.add("qsa_bookmarks__sidebar-list-item__data-footer"),e.meta.forEach((function(e){var t=document.createElement("span");t.classList.add("qsa_bookmarks__sidebar-list__data-footer-item"),t.classList.add("btn-round"),t.innerHTML=e,s.append(t)})),o.append(s);var i=document.createElement("button");i.classList.add("qsa_bookmarks__sidebar-list-item__remove"),i.setAttribute("data-id",e.id),i.innerHTML='<svg class="qsa_icon icon--bookmark-minus icon--base" role="img" width="20" height="20" aria-hidden="true">\n    <title class="sr-only">Icon bookmark-minus</title>\n    <desc class="sr-only">Lesezeichensymbol in wei√ü</desc>\n    <use xlink:href="../../icon/icon.min.svg#icon-bookmark-minus"></use>\n</svg>',a.append(i),t.append(a),this.removeBookmarkByRemoveButton(),this.checkAllBookmarks(),document.querySelector(".qsa_bookmarks__sidebar-list-wrapper").classList.contains("qsa_bookmarks__sidebar-list-wrapper--empty")&&document.querySelector(".qsa_bookmarks__sidebar-list-wrapper").classList.remove("qsa_bookmarks__sidebar-list-wrapper--empty")}},{key:"removeBookmark",value:function(e){var t=JSON.parse(localStorage.getItem("myBookmarks")),a=document.querySelector(".qsa_bookmarks__sidebar-list").querySelector('.qsa_bookmarks__sidebar-list-item[data-id="'.concat(e,'"]')),r=t.findIndex((function(t){return t.id===e})),o=document.querySelector(".qsa_bookmarks__counter"),s=document.querySelectorAll('.qsa_search__wrapper button[data-id="bookmark"]');t.splice(r,1),localStorage.setItem("myBookmarks",JSON.stringify(t)),o.innerHTML=JSON.parse(localStorage.getItem("myBookmarks")).length,s.forEach((function(e){var a=e.getAttribute("id");0===t.filter((function(e){return e.id===a})).length&&(e.classList.remove("active-icon"),e.closest(".qsa_search__wrapper").classList.remove("qsa_search__wrapper--active"))})),a.remove(),0!==t.length||document.querySelector(".qsa_bookmarks__sidebar-list-wrapper").classList.contains("qsa_bookmarks__sidebar-list-wrapper--empty")||document.querySelector(".qsa_bookmarks__sidebar-list-wrapper").classList.add("qsa_bookmarks__sidebar-list-wrapper--empty")}},{key:"removeBookmarkByRemoveButton",value:function(){var e=this;document.querySelectorAll(".qsa_bookmarks__sidebar-list-item__remove").forEach((function(t){t.addEventListener("click",(function(t){e.removeBookmark(t.target.dataset.id)}))}))}}])&&r(t.prototype,a),e}();t.default=new o}}]);